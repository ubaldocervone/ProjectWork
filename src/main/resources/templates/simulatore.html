<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">
<head>
    <meta charset="UTF-8">
    <title>Simulatore produzione</title>
    <style>
        .wrap{max-width:1000px;margin:24px auto;padding:0 16px}
        h1{font-size:22px;margin:18px 0}
        form{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;background:#fff;border:1px solid #e7e7e7;border-radius:10px;padding:16px}
        label{font-size:12px;color:#333}
        input{width:100%;padding:8px;border:1px solid #d7d7d7;border-radius:8px}
        .row{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
        .btn{background:#0e2244;color:#fff;border:0;border-radius:8px;padding:10px 14px;cursor:pointer}
        .card{margin-top:18px;background:#f7fbff;border:1px solid #cde3ff;border-radius:10px;padding:14px}
        .value{font-size:28px;font-weight:700}
        small{color:#666}
    </style>
</head>
<body>
<div th:replace="~{fragments/nav :: navbar}"></div>

<div class="wrap">
    <h1>Simulatore produzione (placeholder)</h1>

    <form th:action="@{/simulatore/run}" th:object="${params}" method="post">
        <div>
            <label>Temperatura media (°C)</label>
            <input type="number" step="0.1" th:field="*{temperaturaMedia}">
        </div>
        <div>
            <label>Umidità media (%)</label>
            <input type="number" step="0.1" th:field="*{umiditaMedia}">
        </div>
        <div>
            <label>Precipitazioni (mm/giorno)</label>
            <input type="number" step="0.1" th:field="*{precipitazioni}">
        </div>
        <div>
            <label>Radiazione solare (W/m²)</label>
            <input type="number" step="0.1" th:field="*{radiazioneSolare}">
        </div>
        <div>
            <label>Pressione media (hPa)</label>
            <input type="number" step="0.1" th:field="*{pressioneMedia}">
        </div>
        <div class="row">
            <button class="btn" type="submit">Calcola</button>
        </div>
    </form>

    <div class="card" th:if="${produzioneStimata != null}">
        <div>Produzione stimata</div>
        <div class="value" th:text="${#numbers.formatDecimal(produzioneStimata, 1, 1)}"></div>
        <small>Unità arbitrarie (modello semplificato)</small>
    </div>
</div>
</body>
</html>
